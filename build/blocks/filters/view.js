import{getContext as e,store as a}from"@wordpress/interactivity";const{state:t,actions:r,callbacks:s}=a("meiliRivera/search",{state:{},actions:{setFilter:a=>{const t=a.event||(a.target?a:null),r=e();if(!t||!t.target)return;const s=r.listName,c=r.value,i=t.target.checked,n=new URL(window.location.href);n.pathname=n.pathname.replace(/\/page\/\d+\/?$/,"/");let l=n.searchParams.get(s)?n.searchParams.get(s).split(","):[];i?l.includes(c)||l.push(c):l=l.filter(e=>e!==c),l.length>0?n.searchParams.set(s,l.join(",")):n.searchParams.delete(s),n.searchParams.delete("query-0-page"),n.searchParams.delete("product-page"),n.searchParams.delete("paged"),window.location.assign(n.toString())},updateSearchQuery:a=>{e().searchQuery=a.target.value.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")}},callbacks:{init:()=>{},getDisplay:()=>{const a=e();return a.searchQuery?a.itemName&&a.itemName.includes(a.searchQuery)?"":"none":""}}});